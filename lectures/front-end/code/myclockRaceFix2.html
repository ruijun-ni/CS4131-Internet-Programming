<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>set and clear interval race condition example</title>		
		<script>
			function clock() {
				var datetoday = new Date();
				var timenow= datetoday.toLocaleTimeString();
				document.getElementById("myclock").value = timenow;
			}
			
			window.onload = function start() {
				var intId = setInterval(function(){clock()}, 1000);
			}
			
			// or window.addEventListener(load, start);
		</script>
	</head>
	<body>
		<input type="text" id="myclock">
		<button onclick="intId=clearInterval(intId)">Stop</button>
	</body>
</html>